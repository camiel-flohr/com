function fetchStructure(e,t,n){fetch(cmsItemURL+e,{method:"GET",priority:"high"}).then((function(e){return e.text()})).then((function(e){let o=(new DOMParser).parseFromString(e,"text/html");$(o).find("img").each((function(){this.src="",this.srcset="";$(this).parent().append($("<div></div>").addClass("img_tmp").css({height:"100%"}).css({"background-color":"black"}));this.remove()})),$(o).find("video").each((function(){this.src="",this.poster="";$(this).parent().append($("<div></div>").addClass("video_tmp").css({height:"100%"}).css({"background-color":"black"}));this.remove()})),$(o).find("iframe").each((function(){this.src=""}));o.querySelector(".page_content").innerHTML;t.find(".page_content").append(o.querySelector(".page_content").innerHTML),contentItems[n].height=t.height(),t.find(".page_content").parent().css({height:t.height()}),t.find(".page_content").empty(),n<initLoadNum&&(""===t.find(".page_content").html()&&fetchHtml(n),updateTriggers())})).catch((e=>{console.error("fetch error"+e)}))}function fetchHtml(e){const t=getSlug(e),n=getElement(e);loading||(loading=!0,fetch(cmsItemURL+t,{method:"GET",priority:"high"}).then((function(e){return e.text()})).then((function(o){let i=(new DOMParser).parseFromString(o,"text/html");i.querySelector(".page_content").innerHTML;if($(i).find(".w-condition-invisible").each((function(){$(i).find(".w-condition-invisible").remove()})),$(n).append(i.querySelector(".page_content").innerHTML),contentItems[e].loaded="true",getNumLoaded()>maxLoad){removeHtml(findFarthestTrueIndex(e))}$(n).parent().css({height:"auto"});if(n.querySelectorAll(".image_wrapper").forEach((e=>{let t=e.querySelector("img");if(null!==t){function n(){t.style.opacity=1}t.style.opacity=0,t.complete?n():t.addEventListener("load",n)}})),createSwiper(),runVideos($(n)),runImageTl(e),runCopyTl(e),0===firstLoad){start=performance.now();const o=new imagesLoaded(n,{background:!0},(function(){onImagesLoaded(n,t,e)}));numImages=o.images.length,o.on("progress",(function(e,t){t.isLoaded;let n=e.progressedCount/numImages;document.querySelector(".loader_percent").textContent=`${Math.round(100*n)}`,gsap.to(".loader_bar",{scaleX:n,duration:.6})}))}loading=!1})).catch((e=>{console.error("fetch error"+e)})))}function getNumLoaded(){let e=contentItems.filter((e=>"true"===e.loaded));return e=e.length,e}function findFarthestTrueIndex(e){let t=-1,n=[];contentItems.forEach((t=>{let o;o="true"===t.loaded?Math.abs(e-contentItems.indexOf(t)):-1,n.push(o)}));let o=Math.max(...n);return t=n.indexOf(o),t}function removeHtml(e){let t=getElement(e);const n="https://uploads-ssl.webflow.com/666a74d7eaee1d02ed943eb0/667f234c990d242665110fad_empty.jpg";$(t).find("img").each((function(){this.src=n,this.srcset=n})),$(t).find("video").each((function(){this.src="",this.poster=n}));const o=contentItems[e].height;$(t).parent().css({height:o}),$(t).children().each((function(){this.remove()})),killTriggers(e),contentItems[e].loaded="false"}let start,numImages,activeIndex;function onImagesLoaded(e,t,n){const o=performance.now();if(loading=!1,0===firstLoad){firstLoad=1;const e=800,t=o-start,n=Math.max(e-t,0);let i=gsap.timeline({delay:n/1e3});i.to(".headline_inner",{yPercent:-100,duration:1,ease:"expo.out"}),i.to(".loader_wrapper",{height:4,duration:1,ease:"expo.inOut",onComplete:()=>{gsap.set("body",{overflow:"auto"})}}),i.to(".loader_bar",{y:4,duration:1,ease:"expo.inOut"},"1"),i.to(".intro",{height:"85vh",duration:1.2,ease:"expo.inOut",onComplete:()=>{ScrollTrigger.refresh()}},"-=1")}}function updateTriggers(){gsap.utils.toArray(".collection-item").forEach(((e,t)=>{ScrollTrigger.create({trigger:e,start:"top 100%+=1600px",end:"bottom bottom",id:"bottom",group:"section",markers:!1,onEnter:e=>{"scroll"===activeMode&&(activeIndex=t,isEmpty(activeIndex)&&fetchHtml(activeIndex))},onEnterBack:e=>{"scroll"===activeMode&&(activeIndex=t,isEmpty(activeIndex)&&fetchHtml(activeIndex))}}),ScrollTrigger.create({trigger:e,start:"top top",end:"bottom top",markers:!1,group:"section",id:"top",onEnter:e=>{"scroll"===activeMode&&(activeIndex=t,isEmpty(activeIndex)&&fetchHtml(activeIndex))},onEnterBack:e=>{"scroll"===activeMode&&(activeIndex=t,isEmpty(activeIndex)&&fetchHtml(activeIndex))}})}))}function killTriggers(e){let t=e=>ScrollTrigger.getAll().filter((t=>t.vars.group===e)),n=getSlug(e);t(`images_+${n}`).forEach((e=>e.kill())),t(`copy_+${n}`).forEach((e=>e.kill()))}function getTriggers(e){let t=getSlug(e);return n=`images_+${t}`,ScrollTrigger.getAll().filter((e=>e.vars.group===n));var n}function runCopyTl(e){let t=getElement(e),n=getSlug(e);$(t).find(".copy_container").each((function(){gsap.set(this,{opacity:.5,y:200}),gsap.to(this,{opacity:1,y:0,duration:.8,stagger:{each:.2},scrollTrigger:{trigger:this,group:`copy_+${n}`,start:"top bottom+=300"}})})),ScrollTrigger.refresh()}function runImageTl(e){let t=getElement(e),n=getSlug(e);$(t).find(".image_container").each((function(){gsap.set(this,{opacity:.5,y:200}),gsap.to(this,{opacity:1,y:0,scale:1,duration:.6,stagger:{each:.2},scrollTrigger:{trigger:this,group:`images_+${n}`,start:"top bottom+=300"}})})),ScrollTrigger.refresh()}function footerTl(){gsap.set(".footer .line",{autoAlpha:0,yPercent:100}),gsap.set(".footer .body_small",{autoAlpha:0,y:100}),gsap.set(".footer",{y:100,borderTopColor:"#0000"}),document.querySelector(".footer").querySelectorAll("h2 .line").forEach((function(e){var t=e.parentNode,n=document.createElement("div");n.className="line_wrapper",t.replaceChild(n,e),n.appendChild(e)})),ScrollTrigger.batch(".line",{start:"top bottom+=100px",onEnter:e=>gsap.to(e,{autoAlpha:1,yPercent:0,stagger:{each:.5},delay:.1}),onLeaveBack:e=>gsap.to(e,{autoAlpha:0,yPercent:100})}),gsap.to(".footer",{y:0,borderTopColor:"#313131",duration:.5,scrollTrigger:{trigger:".footer",start:"top bottom",toggleActions:"play resume reset reset"}},"<"),gsap.to(".footer .body_small",{y:0,autoAlpha:1,duration:.8,scrollTrigger:{trigger:".footer",start:"top bottom",toggleActions:"play resume reset reset"}})}function isEmpty(e){let t=getSlug(e);return""===document.getElementById(t).querySelector(".page_content").innerHTML}function getElement(e){let t=getSlug(e),n=document.getElementById(t);return n=n.querySelector(".page_content"),n}function getSlug(e){return contentItems[e].slug}function updateSlug(e){history.pushState(null,null,`#${e}`)}function loadHash(){if(window.location.hash){let e=window.location.hash,t=document.getElementById("content").querySelector(e),n=(document.body.getBoundingClientRect(),t.getBoundingClientRect().top);const o=document.timeline.currentTime;requestAnimationFrame((function e(t){(t-o)/100<1&&(window.scrollTo({top:n}),requestAnimationFrame((t=>e(t))))}))}}function runVideos(e){const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.play():e.target.pause()}))}),{threshold:.6});e.find("video").each((function(){$(this).on("click",(function(){if(!$(this).attr("swiperVideo")){if(!1===isTouchDevice()){let e=this.paused?"pause":"play";cursor.change(e)}this.paused?this.play():this.pause()}})),$(this).on("mouseenter",(function(){if(!1===isTouchDevice()&&(cursor.open(),!$(this).attr("swiperVideo"))){let e=this.paused?"play":"pause";cursor.change(e)}})),$(this).on("mouseleave",(function(){!1===isTouchDevice()&&cursor.close()})),t.observe(this)})),e.find("iframe")&&(e.find("iframe").on("mouseenter",(function(){cursor.hide()})),e.find("iframe").on("mouseleave",(function(){cursor.close()})))}function pauseVideos(e){return $("video").each((function(){this.paused||(this.pause(),e.push(this))})),e}function resumeVideos(e){e&&e.forEach((function(e){e.play()}))}function moveImageActive(){const e=$(".collection_img_item"),t=e.children(),n=$(".collection_img_item").width(),o=$(".collection_img_item").height(),i=$(".collection_link_list").eq(0).position().left,r=$(".collection_link_list").eq(0).width(),s=($(".collection_link_list").eq(0).height(),$(".menu_container").width()),c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,document.querySelector(".menu_container"));let l=a.scrollTop;"menu"===activeMode&&c>mobileBreakpoint&&!1===isTouchDevice()&&(a.onscroll=e=>{l=a.scrollTop},window.onmousemove=a=>{const{clientX:u,clientY:d}=a;let g=u-n/2-(c-s),h=d-o/2+l,m=(calculatePercentage(u,window.innerWidth),mapRange(g,i,i+r,0,100)),p=(mapRange(m,0,100,-1,1),mapRange(m,0,100,5,-5));gsap.to(e,{x:g,y:h,duration:1,ease:"Power3.easeOut"}),gsap.to(t,{xPercent:p,duration:.3})})}function animateImage(e){const t=$(".collection_img_item");(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>mobileBreakpoint&&!1===isTouchDevice()&&("in"==e&&gsap.to(t,{scale:1,rotate:0,rotateY:0,duration:.6,ease:"Power4.easeOut",overwrite:!0}),"out"==e&&gsap.to(t,{scale:0,rotate:45,rotateY:45,duration:.5,ease:"Power4.easeOut",delay:.1,overwrite:!0}))}function linkCMSdata(){function e(e,t){const n=typeof e;return"string"!=typeof t||""===t.trim()?e:"true"===t&&"boolean"===n||("false"!==t||"boolean"!==n)&&(isNaN(t)&&"string"===n?t:isNaN(t)||"number"!==n?e:+t)}$("[tr-listsync-element='component']").each((function(t){let n=$(this),o=n.find("[tr-listsync-element='list']"),i=(o.children(),n.find("[tr-listsync-element='menu-list']")),r=i.children(),s=(e(!0,n.attr("tr-listsync-onload")),e(0,n.attr("tr-listsync-activeindex")),e("is-active",n.attr("tr-listsync-activeclass")));function c(e){if(!1===isTouchDevice()){r.removeClass(s);let t=e.index();i.each((function(){$(this).children().eq(t).addClass(s)}))}}o.each((function(){let e=$(this).children();e.each((function(){let e=$(this).find(".slug")[0].innerText,t=document.createElement("div");$(t).addClass("page_content"),$(this).append(t),$(this).attr("id",e),contentItems.push({slug:e}),""===$(t).html()&&fetchStructure(e,$(this),$(this).index(),"append")}))})),i.each((function(){let t=$(this).children(),n=e(!0,$(this).attr("tr-listsync-click")),o=e(!0,$(this).attr("tr-listsync-hoverin")),i=e(!0,$(this).attr("tr-listsync-hoverout"));t.each((function(){let e;$(this).find(".slug").index()>0&&(e=$(this).find(".slug")[0].innerText)})),n&&t.on("click",(function(){$(this).find(".slug")[0].innerText;const e=$(this).index();ScrollTrigger.refresh(),isEmpty(e)&&(fetchHtml(e),activeIndex=e);let t=gsap.timeline({onComplete:function(){ScrollTrigger.refresh(),gsap.delayedCall(.1,navBarClose)}}),n=getSlug(e);t.to(window,{duration:.8,scrollTo:"#"+n,ease:"expo.out"})})),o&&t.on("mouseenter",(function(){c($(this)),animateImage("in")})),i&&t.on("mouseleave",(function(){c($(this)),animateImage("out")}))}))}))}function navBarClick(e=""){formatNumbers();const t=$(".menu_container");$(t).css("scrollbar-width","none"),$(".menu_container::-webkit-scrollbar").css("display","none"),gsap.set(t,{xPercent:100});let n,o=0,i=[];e||(e=$(".nav_menu"),n=$(".nav_menu_button")),n.on("click",(function(){0===o?($("body").css("overflow","hidden"),$(".menu_container").css("overflow","auto"),$(".nav_menu_bg").css("opacity","1"),$(".nav_menu_bg").css("pointer-events","auto"),pauseVideos(i),activeMode="menu",gsap.to(t,{xPercent:0,duration:1,ease:"Power4.easeOut"}),gsap.to($(".close_mobile"),{autoAlpha:1,duration:.5,ease:"Power4.easeOut"}),runMenuTextTl(),moveImageActive(),o=1):1===o&&($("body").css("overflow","auto"),$(".menu_container").css("overflow","hidden"),$(".nav_menu_bg").css("opacity","0.0"),$(".nav_menu_bg").css("pointer-events","none"),gsap.to(t,{xPercent:100,duration:1,ease:"expo.out"}),gsap.to($(".close_mobile"),{autoAlpha:0,duration:.5,ease:"Power4.easeOut"}),resumeVideos(i),clearMenuTextTl(),i=[],activeMode="scroll",o=0)})),$(".nav_menu_bg").on("click",(function(){n.click()})),isTouchDevice()?$(".close_mobile").on("click",(function(){n.click()})):($(".nav_menu_bg").on("mouseenter",(function(){$(".cursor").css("mix-blend-mode","normal"),cursor.open(),cursor.change("close")})),$(".nav_menu_bg").on("mouseleave",(function(){$(".cursor").css("mix-blend-mode","difference"),cursor.close()}))),$(t).find(".is_index").on("click",(function(){gsap.to(t,{duration:.8,scrollTo:"#index",ease:"expo.out",overwrite:!0})})),$(t).find(".is_about").on("click",(function(){gsap.to(t,{duration:.8,scrollTo:"#about",ease:"expo.out",overwrite:!0})}))}function navBarClose(){$(".nav_menu_button").click()}class RunLenis{constructor(e=window){this.lenis=new Lenis({wrapper:e,lerp:.15,wheelMultiplier:.7,infinite:!1,gestureOrientation:"vertical",normalizeWheel:!1,smoothTouch:!1});const t=this,n=function(e){t.lenis.raf(e),requestAnimationFrame(n)};requestAnimationFrame(n)}stop(){this.lenis.stop()}start(){this.lenis.start()}destroy(){this.lenis.destroy()}}function formatNumbers(){$(".link_number").html((function(e){let t=1+e;return t<10?"0"+t:t}))}function calculatePercentage(e,t){return e/t*100}function mapRange(e,t,n,o,i){return o+(i-o)*(e-t)/(n-t)}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}class Cursor{constructor(){this.cursor=document.querySelector(".cursor"),this.icon=null,document.addEventListener("mouseenter",(()=>this.cursor.style.display="flex")),document.addEventListener("mouseleave",(()=>this.cursor.style.display="none")),gsap.set(this.cursor,{xPercent:-50,yPercent:-50});let e=gsap.quickTo(this.cursor,"x",{duration:.3,ease:"power3"}),t=gsap.quickTo(this.cursor,"y",{duration:.3,ease:"power3"});window.addEventListener("mousemove",(n=>{e(n.clientX),t(n.clientY)}))}open(e=0){gsap.to(".cursor_icon",{width:mouseMaxSize,height:mouseMaxSize,duration:.4,delay:e}),gsap.to(".inner_icon",{scale:1})}close(e=0){gsap.to(".cursor_icon",{width:mouseMinSize,height:mouseMinSize,duration:.4,delay:e}),gsap.to(".inner_icon",{scale:0})}hide(){gsap.to(".cursor_icon",{width:0,height:0,duration:.2})}change(e){let t;t="close"===e?".cursor_close":"play"===e?".cursor_play":"pause"===e?".cursor_pause":"arrow_left"===e?".cursor_left":"arrow_right"===e?".cursor_right":"drag"===e?".cursor_drag":"link"===e?".cursor_arrow":null,this.icon&&gsap.to(this.icon,{scale:0}),null!==t&&gsap.to(t,{scale:1}),this.icon=t}}function runSplit(){splitLinks=new SplitType("[stagger-link]",{types:"words"}),splitH2=new SplitType("[stagger-text]",{types:"lines"})}function reverseSplit(){splitLinks.revert(),splitH2.revert()}function runMenuTextTl(){document.querySelectorAll("[stagger-link]").forEach((e=>{const t=e.querySelectorAll("[stagger-link-text] .word"),n=e.querySelector(".arrow_icon");e.addEventListener("mouseenter",(function(){gsap.to(t,{opacity:1,yPercent:-115,duration:.35,ease:"ease",stagger:{each:.03},delay:.05,overwrite:!0}),gsap.to(n,{opacity:1,yPercent:-100,duration:.35,ease:"ease",overwrite:!0})})),e.addEventListener("mouseleave",(function(){gsap.to(t,{yPercent:0,duration:.35,ease:"ease",stagger:{each:.005},delay:.05,overwrite:!0}),gsap.to(n,{opacity:0,yPercent:0,duration:.35,ease:"ease",overwrite:!0})}))}));document.querySelectorAll("[outer-link]").forEach((e=>{e.addEventListener("mouseenter",(function(){""!==e.href&&e.href!==base_link&&"#"!==e.href&&(cursor.open(),cursor.change("link"))})),e.addEventListener("mouseleave",(function(){cursor.close()}))}))}function clearMenuTextTl(){var e;(e="menu",ScrollTrigger.getAll().filter((t=>t.vars.group===e))).forEach((e=>e.kill()))}function createSwiper(){$(".slider-main-component").each((function(e){let t="50%",n="50%",o=!1;$(".swiper").each((function(e){"true"===$(this).attr("loop-mode")&&(o=!0)})),void 0!==$(this).attr("slider-margin")&&(t=$(this).attr("slider-margin")),void 0!==$(this).attr("slider-margin-mobile")&&(n=$(this).attr("slider-margin-mobile"));const i=new Swiper($(this).find(".swiper")[0],{direction:"horizontal",loop:!1,loopedSlides:2,slidesPerView:"auto",spaceBetween:t,centeredSlides:!0,keyboard:{enabled:!0,onlyInViewport:!0},mousewheel:{invert:!0,forceToAxis:!0},slideToClickedSlide:!0,followFinger:!0,breakpoints:{480:{spaceBetween:n},768:{spaceBetween:n},991:{spaceBetween:t}},navigation:{nextEl:$(this).find(".swiper-next")[0],prevEl:$(this).find(".swiper-prev")[0],disabledClass:"is-disabled"},pagination:{el:$(this).find(".swiper-bullet-wrapper")[0],bulletActiveClass:"is-active",bulletClass:"swiper-bullet",bulletElement:"button",clickable:!0,type:"progressbar"},slideActiveClass:"is-active",slideDuplicateActiveClass:"is-active"});var r=function(e){e.clientX<window.innerWidth/4&&!i.isBeginning?(cursor.open(),".cursor_left"===cursor.icon&&null!==cursor.icon||cursor.change("arrow_left")):e.clientX>window.innerWidth/4*3&&!i.isEnd?(cursor.open(),".cursor_right"===cursor.icon&&null!==cursor.icon||cursor.change("arrow_right")):".cursor_drag"!==cursor.icon&&cursor.close()};$(this).on("mouseenter",(function(){!1===isTouchDevice()&&(this.addEventListener("mousemove",r,!1),cursor.open())})),$(this).on("mouseleave",(function(){!1===isTouchDevice()&&(this.removeEventListener("mousemove",r,!1),cursor.close())}))}))}let direction,activeMode="scroll";const cmsItemURL="projects/",initLoadNum=1,maxLoad=16;let firstLoad=0,loading=!1;const mobileBreakpoint=480;let splitLinks,splitH2,menuLoaded=0,contentItems=[];const base_link="https://camiels-test-project-d801-c91712ef7ad0e.webflow.io/#",mouseMaxSize=120,mouseMinSize=16;let cursor,mainLenis,menuLenis;function init(){history.scrollRestoration="manual",window.history.scrollRestoration="manual",document.body.scrollTop=document.documentElement.scrollTop=0,activeIndex=0,linkCMSdata(),navBarClick(),runSplit(),footerTl(),!1===isTouchDevice()?cursor=new Cursor:jQuery(".cursor").remove()}window.addEventListener("DOMContentLoaded",(e=>{gsap.registerPlugin(ScrollTrigger,ScrollToPlugin),init()}));let windowWidth=$(window).innerWidth();window.addEventListener("resize",(function(){windowWidth!=$(window).innerWidth()&&(windowWidth=$(window).innerWidth(),reverseSplit(),runSplit(),footerTl(),ScrollTrigger.refresh(!0))}));